{"ts":1379078914280,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"#!/usr/bin/env php\n<?php\n/**\n * Pick a random pair from a list of students stored in a CSV file provided on\n * the command line, because that's what Atlas can give me... C'mon, Atlas!\n */\n\nfunction usage()\n{\n    echo '\n    Provide a CSV file that contains at least \"First Name\" and \"Last Name\"\n    fields with a header row, and \"randomizer\" will spit out a randomly\n    assigned set of pairs (or trios) from that roster.';\n\n    exit;\n}\n\n($argc - 1) or usage();\n\nfile_exists($argv[1]) and $file = fopen($argv[1], 'r') or exit(1);\n\n$fields = array_map(function($field){\n    return strtolower(str_replace(' ', '_', $field));\n}, fgetcsv($file));\n\nwhile ( $data = fgetcsv($file) )\n{\n    $record = (object) array_combine($fields, $data);\n    $names[] = \"{$record->first_name} {$record->last_name}\";\n}\n\nshuffle($names);\n\n$one; $two;\n\necho 'Randomly selected pairs:';\n\nwhile ( $one = current($names) and $two = next($names) )\n{\n    echo \"\\n\\n\\t* $one\\n\\t* $two\";\n    next($names);\n}\n\nif ( !$two ) echo \"\\n\\t* $one\";\n\n"]],"start1":0,"start2":0,"length1":0,"length2":1009}]],"length":1009}
